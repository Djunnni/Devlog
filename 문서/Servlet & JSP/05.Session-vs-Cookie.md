## 05.Session-vs-Cookie

### Cookie & Session

-   **왜 쓰일까?**
    -   HTTP Protocol은 응답후 연결을 해제하는 stateless 성질이 있다 그렇기에 로그인과 같이 정보를 유지해야 할 경우 Cookie와 Session을 통해 처리를 할 수 있다.
    -   stateless
        -   지속적인 연결로 인한 자원낭비를 줄이기 위해 연결을 해제
    -   **HttpProtocol의 특징을 보완하기 위해 사용.**
-   Cookie

    -   서버에서 사용자의 컴퓨터에 저장하는 정보파일
    -   사용자가 별도의 요청을 하지 않아도 브라우저는 request시 request header를 넣어 자동으로 서버에 전송
    -   key value로 구성되고 String 형태로 이루어짐
    -   Browser마다 저장되는 쿠키는 다르다.
    -   사용 목적
        -   세션 관리 : 사용자 아이디, 접속시간, 장바구니 등 서버가 알아야하는 정보 저장
        -   개인화: 사용자마다 적절한 페이지를 보여줄 수 있음
        -   트래킹: 사용자의 행동과 패턴을 분석하고 기록
    -   사용사례
        -   자동로그인 id 저장
        -   일주일간 다시보지 않기
        -   최근 검색한 상품들을 광고에 추천
        -   쇼핑몰 장바구니
    -   구성요소
        -   이름
        -   값
        -   유효기간
        -   경로
        -   도메인
    -   특징
        -   클라이언트에 300개의 쿠키를 저장할 수 있다.
        -   한 도메인당 20개의 쿠키를 가질 수 있다.
        -   하나의 쿠키는 4KB까지 저장가능

-   Session
    -   WAS의 메모리에 Object 형태로 저장
    -   memory가 허용하는 용량까지 제한없이 저장가능
    -   사용사례
        -   site내에 화면을 이동해도 로그인이 풀리지 않고 유지
        -   장바구니
    -   특징
        -   웹 서버에 웹 컨테이너의 상태를 유지하기 위한 정보를 저장
        -   웹 서버에 저장되는 쿠키
        -   브라우저를 닫거나 서버에서 세션을 삭제했을 경우만 삭제가 되므로 쿠키보다 보안이 좋다.
        -   저장 데이터에 제한이 없다.
        -   클라이언트 고유 Session ID를 부여한다.
        -   Session ID로 클라이언트를 구분해 각 클라이언트에 맞는 서비스를 제공
