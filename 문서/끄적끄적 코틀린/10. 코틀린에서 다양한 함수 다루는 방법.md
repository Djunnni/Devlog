# 10. ì½”í‹€ë¦°ì—ì„œ ë‹¤ì–‘í•œ í•¨ìˆ˜ ë‹¤ë£¨ëŠ” ë°©ë²•

## 1. í™•ì¥í•¨ìˆ˜

> ê¸°ì¡´ ìë°”ì½”ë“œ ìœ„ì— ìì—°ìŠ¤ëŸ½ê²Œ ì½”í‹€ë¦° ì½”ë“œë¥¼ ì¶”ê°€í•  ìˆœ ì—†ë‚˜? ğŸ§ <br>
> ì–´ë–¤ í´ë˜ìŠ¤ì•ˆì— ë©”ì†Œë“œ ì²˜ëŸ¼ í˜¸ì¶œí•  ìˆ˜ ìˆì§€ë§Œ í•¨ìˆ˜ëŠ” ë°–ì— ë§Œë“¤ìˆ˜ ìˆê²Œ!

```kotlin
// String.kt

fun main() {
    val str = "ABC"
    println(str.lastChar())
}

fun String.lastChar(): Char { // String í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ê² ë‹¤. 
    return this[this.length - 1] // thisë¡œ í´ë˜ìŠ¤ì•ˆì˜ ê°’ì— ì ‘ê·¼ì„ í•  ìˆ˜ ìˆë‹¤.
}
```

> í™•ì¥í•¨ìˆ˜ê°€ publicì´ê³  ìˆ˜ì‹ ê°ì²´ í´ë˜ìŠ¤ì˜ private í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ë©´ ìº¡ìŠí™”ê°€ ê¹¨ì§€ëŠ” ê±° ì•„ë‹Œê°€? <br>
> í™•ì¥í•¨ìˆ˜ëŠ” í´ë˜ìŠ¤ì— ìˆëŠ” private, protectedë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŒ.

ìë°”ì—ì„œ í™•ì¥í•¨ìˆ˜ë¥¼ kotlinì—ì„œ ë§Œë“œëŠ”ë° ê°™ì€ê²Œ 2ê°œê°€ ìƒê¸°ë©´?

```java
public class Person {
    public int nextYearAge() {
        return this.age + 1;
    }
}
```

```kotlin
fun Person.nextYearAge() {
    print("í™•ì¥í•¨ìˆ˜")
    return this.age + 1;
}

fun main() {
    val person = Person();
    person.nextYearAge(); // ë©¤ë²„í•¨ìˆ˜ë¥¼ ìš°ì„ ì ìœ¼ë¡œ í˜¸ì¶œí•¨!
}
```

> í™•ì¥í•¨ìˆ˜ë‘ ê°™ì€ ë©¤ë²„í•¨ìˆ˜ë¥¼ ë‚˜ì¤‘ì— ìƒì„±í•˜ë©´ ì˜ë„ì¹˜ ì•ŠëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

[12](./img/12.example.png)
[13](./img/13.example-result.png)

> í•´ë‹¹ë³€ìˆ˜ì˜ í˜„ì¬ íƒ€ì… -> ì •ì ì¸íƒ€ì…ì— ì˜í•´ ì–´ë–¤í•¨ìˆ˜ê°€ ë¶ˆë¦´ì§€ ì•Œ ìˆ˜ ìˆë‹¤.

ì •ì í•¨ìˆ˜ë¡œ ë³€ê²½ë˜ê¸°ì— JAVAì—ì„œëŠ” static í•¨ìˆ˜ë¡œ ì“¸ ìˆ˜ ìˆë‹¤.

ë˜í•œ í™•ì¥ í”„ë¡œí¼í‹°ì˜ ì›ë¦¬ëŠ” í™•ì¥í•¨ìˆ˜ + custom getterì™€ ë™ì¼í•˜ë‹¤.

```kotlin
fun String.lastChar(): Char {
    return this[this.length - 1]
}
=========>
val String.lastChar: Char get() = this[this.length - 1]
```

> í™•ì¥í•¨ìˆ˜ + custom getterì™€ ì—°ê²°ë  ìˆ˜ ìˆë‹¤.

## 2. infix í•¨ìˆ˜ (ì¤‘ìœ„í•¨ìˆ˜)

```kotlin
fun Int.add(other: Int): Int {
    return this + other
}

infix fun Int.add2(other: Int): Int {
    return this + other
}
// ==========>
3 add2 4
3.add2(4)
3.add(4)

```

> ë©¤ë²„í•¨ìˆ˜ì—ë„ ë¶™ì¼ ìˆ˜ ìˆìŒ

## 3. inline í•¨ìˆ˜

```kotlin
fun main() {
    3.add(4);
}

inline fun Int.add(other: Int): Int {
    return this + other
}
```

![inline func](./img/14.inline-function.png)

> í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•  ë•Œ, ì˜¤ë²„í—¤ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŒ.
> inline í•¨ìˆ˜ì˜ ì‚¬ìš©ì€ ì„±ëŠ¥ ì¸¡ì •ê³¼ í•¨ê»˜ ì‹ ì¤‘íˆ ì‚¬ìš©í•´ì•¼ ë¨.

## 4. ì§€ì—­í•¨ìˆ˜

í•¨ìˆ˜ ì•ˆì— í•¨ìˆ˜ë¥¼ ì„ ì–¸í•œë‹¤.

```kotlin
fun createPerson(firstName: String, lastName: String): Person {
    fun validateName(name: String, lastName: String) { // ë‚´ë¶€í•¨ìˆ˜ ìƒì„±ì´ ê°€ëŠ¥
        if(name.isEmpty()) 
            throw IllegalArgumentException("ë¹„ì–´ìˆë‹¤.");
    }

    validateName(firstName, "firstName");
    validateName(lastName, "lastName");

    return Person(firstName, lastName, 1);
}
```
